---
title: 博客改版与优化
layout: post
categories: [博客]
excerpt: 博客更换主题与优化的记录
abbrlink: 8c36a959
date: 2018-12-03 19:58:31
---

最近，花了两个下午的时间更换了博客主题，并做了少许优化，朝向极简主义风格又迈进了一步。

## 缘起
主要的动力还是访问速度上的需要。原先使用的Hexo主题Material为每篇博文都配有Material Design风格的图片，且支持很多插件功能，部署后公共文件夹的体积为18M左右。而且在今年7月份左右我无法继续享受腾讯云的1元主机优惠，伺服服务器迁移至美国西海岸，延迟上要远比国内的服务器高，便产生了改版的打算。
现在更换的主题为[Minos](http://github.com/ppoffice/hexo-theme-minos)，吸引我之处在于其简洁和Medium风格。改版后抛弃了几乎所有的内容无关的图片（当然其实这些图片是存储于七牛云的CDN上的），且移除了很多我并不需要的插件，部署的公共文件夹大小只有不到5M。配色方面也回归原始的黑和白，更突出文字。

## CDN优化
添加了腾讯云的存储和CDN作为国内解析源，境外则使用了Netlify的服务，即目前域名的解析线路为：
- 境内：腾讯云CDN
- 境外：Netlify服务
- 默认：位于美国西海岸的VPS主机
所幸部署方面Hexo都有相应的插件支持，通过ping检测工具也确认了这些解析归属。

## 分享链接
所使用的主题提供了addThis的服务，可以实现自定义的分享按钮、推广banner等功能，但我测试后发现加载时间过长，遂提供了复制文章链接和二维码扫描两个按钮作为分享手段，回归到链接的方式，不必受各种平台API的限制。

## 评论系统
改版后我移除了评论系统。主要的考虑自然仍是disqus的国内加载速度问题，况且以我的经验这一评论系统并没有带来很好的讨论效果。将来应该会考虑的方案是提供加载代理，但目前限于精力不再花费时间。

## 字体
之前一直使用Chrome的微软雅黑字体渲染插件，对中文字体的认识相对单一。后来经常在Medium上读文章，并拥有了一台Mac设备，恍然发现字体对网页观感的重要性。于是，过去的几个月，我使用Adobe提供的TypeKit服务为自己的几个小站提供了思源字体的动态支持，虽需一定的加载时间，但观感上对全平台来说更为统一。
在这一轮优化中，我将本博客的字体用重新换为各平台的安全字体，节省加载时间和渲染压力，非常喜欢的思源字体仅在随笔类的博客里使用。

## 添加Gallery
添加了一个单独的“影像”页面来收集图片，同样采用七牛云的CDN作为图床。

## 拾遗
我用archive.org给自己原来的主题建立了一份存档，可以在[这里](https://web.archive.org/web/20180814055036/https://blog.ddlee.cn/)找到。也算是在互联网世界存在的证据了罢。